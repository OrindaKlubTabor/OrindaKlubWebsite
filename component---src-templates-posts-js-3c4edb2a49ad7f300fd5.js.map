{"version":3,"sources":["webpack:///./src/templates/posts.js"],"names":["BlogList","render","posts","this","props","data","allContentfulPost","nodes","pageContext","currentPage","numPages","isFirst","isLast","prevPage","toString","nextPage","startCountIndex","endCountIndex","map","node","style","margin","key","slug","title","createdAt","description","className","to","display","justifyContent","color","rel","Array","from","length","_","i","padding","backgroundColor","borderRadius","React","Component"],"mappings":"oNAKqBA,E,kGACnBC,OAAA,WACE,IAAMC,EAAQC,KAAKC,MAAMC,KAAKC,kBAAkBC,MAChD,EAAkCJ,KAAKC,MAAMI,YAArCC,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,SACfC,EAA0B,IAAhBF,EACVG,EAASH,IAAgBC,EACzBG,EACJJ,EAAc,GAAM,EAAI,QAAU,UAAYA,EAAc,GAAGK,WAC3DC,EAAW,UAAYN,EAAc,GAAGK,WACxCE,EAAkBN,EAAW,EAAID,EAAc,EAAI,EAAIG,EAAS,EAChEK,EAAgBP,EAAW,EAAID,EAAc,EAAIE,EAAUD,EACjE,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,iDACCR,EAAMgB,KAAI,SAAAC,GAAI,OACb,yBAAKC,MAAO,CAAEC,OAAQ,UAAYC,IAAKH,EAAKI,MAC1C,wBAAIH,MAAO,CAAEC,OAAQ,WAAaF,EAAKK,OACvC,8BAAOL,EAAKM,WACZ,6BACA,8BAAON,EAAKO,aACZ,6BACA,6BACA,kBAAC,IAAD,CAAMC,UAAU,iBAAiBC,GAAE,IAAMT,EAAKI,MAA9C,4BAKJ,yBAAKH,MAAO,CAAES,QAAS,OAAQC,eAAgB,kBAC5CnB,EACC,0BAAMS,MAAO,CAAEW,MAAO,gBAAtB,eAEA,kBAAC,IAAD,CAAMH,GAAIf,EAAUmB,IAAI,QAAxB,eAIF,6BACGC,MAAMC,KACL,CAAEC,OAAQzB,IACV,SAAC0B,EAAGC,GAAJ,OACErB,GAAmBqB,GACnBpB,EAAgBoB,IACf5B,IAAgB4B,EAAI,EACnB,kBAAC,IAAD,CACEjB,MAAO,CACLkB,QAAS,SACTC,gBAAiB,UACjBR,MAAO,OACPS,aAAc,GAEhBlB,IAAG,qBAAsBe,EAAI,GAC7BT,GAAa,IAANS,EAAU,QAAU,UAAYA,EAAI,IAE1CA,EAAI,GAGP,kBAAC,IAAD,CACEjB,MAAO,CAAEkB,QAAS,UAClBhB,IAAG,qBAAsBe,EAAI,GAC7BT,GAAa,IAANS,EAAU,QAAU,UAAYA,EAAI,IAE1CA,EAAI,QAKdzB,EACC,0BAAMQ,MAAO,CAAEW,MAAO,gBAAtB,WAEA,kBAAC,IAAD,CAAMH,GAAIb,EAAUiB,IAAI,QAAxB,e,GArEwBS,IAAMC","file":"component---src-templates-posts-js-3c4edb2a49ad7f300fd5.js","sourcesContent":["import React from \"react\"\nimport Layout from \"../components/layout\"\nimport Container from \"../components/container\"\nimport { graphql, Link } from \"gatsby\"\n\nexport default class BlogList extends React.Component {\n  render() {\n    const posts = this.props.data.allContentfulPost.nodes\n    const { currentPage, numPages } = this.props.pageContext\n    const isFirst = currentPage === 1\n    const isLast = currentPage === numPages\n    const prevPage =\n      currentPage - 1 === 1 ? \"/blog\" : \"/blog/\" + (currentPage - 1).toString()\n    const nextPage = \"/blog/\" + (currentPage + 1).toString()\n    const startCountIndex = numPages > 5 ? currentPage - 2 - 1 - isLast : 0\n    const endCountIndex = numPages > 5 ? currentPage + 2 + isFirst : numPages\n    return (\n      <Layout>\n        <Container>\n          <h1>Všechny příspěvky</h1>\n          {posts.map(node => (\n            <div style={{ margin: \"3rem 0\" }} key={node.slug}>\n              <h2 style={{ margin: \"1rem 0\" }}>{node.title}</h2>\n              <span>{node.createdAt}</span>\n              <br></br>\n              <span>{node.description}</span>\n              <br></br>\n              <br></br>\n              <Link className=\"link-important\" to={`/${node.slug}`}>\n                Zobrazit příspěvek &#8594;\n              </Link>\n            </div>\n          ))}\n          <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n            {isFirst ? (\n              <span style={{ color: \"transparent\" }}>← Předchozí</span>\n            ) : (\n              <Link to={prevPage} rel=\"prev\">\n                ← Předchozí\n              </Link>\n            )}\n            <div>\n              {Array.from(\n                { length: numPages },\n                (_, i) =>\n                  startCountIndex <= i &&\n                  endCountIndex > i &&\n                  (currentPage === i + 1 ? (\n                    <Link\n                      style={{\n                        padding: \"0 10px\",\n                        backgroundColor: \"#002868\",\n                        color: \"#fff\",\n                        borderRadius: 5,\n                      }}\n                      key={`pagination-number${i + 1}`}\n                      to={`${i === 0 ? \"/blog\" : \"/blog/\" + (i + 1)}`}\n                    >\n                      {i + 1}\n                    </Link>\n                  ) : (\n                    <Link\n                      style={{ padding: \"0 10px\" }}\n                      key={`pagination-number${i + 1}`}\n                      to={`${i === 0 ? \"/blog\" : \"/blog/\" + (i + 1)}`}\n                    >\n                      {i + 1}\n                    </Link>\n                  ))\n              )}\n            </div>\n            {isLast ? (\n              <span style={{ color: \"transparent\" }}>Další →</span>\n            ) : (\n              <Link to={nextPage} rel=\"next\">\n                Další →\n              </Link>\n            )}\n          </div>\n        </Container>\n      </Layout>\n    )\n  }\n}\n\nexport const data = graphql`\n  query blogListQuery($skip: Int!, $limit: Int!) {\n    allContentfulPost(\n      limit: $limit\n      skip: $skip\n      sort: { fields: createdAt, order: DESC }\n    ) {\n      nodes {\n        description\n        createdAt(formatString: \"D. MMMM YYYY\", locale: \"cs\")\n        slug\n        title\n      }\n    }\n  }\n`\n"],"sourceRoot":""}